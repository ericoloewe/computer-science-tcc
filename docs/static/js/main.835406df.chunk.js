(this["webpackJsonpplugin-app"]=this["webpackJsonpplugin-app"]||[]).push([[3],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(3),a=n(4),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"createSpotifyAuthUrl",value:function(){var t=new URL("https://accounts.spotify.com/authorize");return t.searchParams.set("client_id","62cd1002f7cd431e92969df2d619de90"),t.searchParams.set("response_type","token"),t.searchParams.set("redirect_uri",e.getSpotifyRedirectUrl()),t.searchParams.set("scope",this.SCOPES.join(" ")),t.toString()}},{key:"createPlayer",value:function(e){return new Promise((function(t,n){window.onSpotifyWebPlaybackSDKReady=function(){var r=new Spotify.Player({name:"Spotify plugin",getOAuthToken:function(t){t(e)}});r.addListener("initialization_error",(function(e){var t=e.message;return n(t)})),r.addListener("authentication_error",(function(e){var t=e.message;return n(t)})),r.addListener("account_error",(function(e){var t=e.message;return n(t)})),r.addListener("playback_error",(function(e){var t=e.message;return n(t)})),r.addListener("not_ready",(function(e){var t=e.device_id;return n("Device ID has gone offline ".concat(t))})),r.addListener("ready",(function(e){var n=e.device_id;return t({device_id:n,original:r})})),r.connect()}}))}},{key:"getApiUrl",value:function(){return"https://api.spotify.com/v1"}},{key:"getTokenAndInfoFromRedirectUrl",value:function(e){var t=new URL(e);t.search=t.hash.slice(2,t.hash.length);var n=t.searchParams.get("access_token"),r=Number(t.searchParams.get("expires_in")),a=t.searchParams.get("token_type");if(!n||!r||!a)throw new Error("Invalid redirect parameter");return{accessToken:n,expiresInSeconds:r,tokenType:a}}},{key:"getSpotifyRedirectUrl",value:function(){var e=new URL("https://ericoloewe.github.io/computer-science-tcc");return e.hash="/login-redirect-spotify",e.toString()}}]),e}();c.SCOPES=["playlist-modify-private","playlist-modify-public","playlist-read-private","streaming","user-library-read","user-read-email","user-read-playback-state","user-read-private","user-read-recently-played","user-top-read"]},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return m}));var r,a=n(1),c=n.n(a),i=n(2),u=n(0),o=n.n(u),s=n(6),l=n(19),p=n(22),f=n(3),d=n(4),_=new(function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;try{(n=!!dataLayer.push(Object(p.a)({event:e},t)))&&console.log("There is no gtm tags for the event: ",e)}catch(r){console.log("There was a problem to send the gtm event ",r)}return n}}]),e}());!function(e){e.CHANGE_MUSIC_TIME="CHANGE_MUSIC_TIME",e.CHANGE_MUSIC="CHANGE_MUSIC",e.RESTART_MUSIC="RESTART_MUSIC",e.CHOOSE_ACTIVITY="CHOOSE_ACTIVITY",e.CHOOSE_FEELING="CHOOSE_FEELING",e.CHOOSE_LOCATION="CHOOSE_LOCATION",e.HIDE_DETAILS="HIDE_DETAILS",e.LIKED_ARTIST="LIKED_ARTIST",e.LIKED_GENRE="LIKED_GENRE",e.LIKED_MUSIC="LIKED_MUSIC",e.LOAD_LOCATION="LOAD_LOCATION",e.PAUSE_MUSIC="PAUSE_MUSIC",e.PLAY_MUSIC="PLAY_MUSIC",e.SHOW_DETAILS="SHOW_DETAILS"}(r||(r={}));var v=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",h="".concat(v,"/UserEvents"),E=Object(u.createContext)({}),O=[];function T(e){var t=Object(l.b)().profile.uri;function n(){return(n=Object(i.a)(c.a.mark((function e(n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={type:n,value:r,spotifyUserUri:t},!a(n)){e.next=8;break}0,_.sendEvent("USER_ACTION",i),e.next=8;break;case 6:return e.next=8,s.b.post({url:h,data:i});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){var t=O[O.length-1];return O.push(e),!(e===t&&(e===r.PAUSE_MUSIC||e===r.PLAY_MUSIC))}return o.a.createElement(E.Provider,Object.assign({value:{save:function(e,t){return n.apply(this,arguments)}}},e))}var m=function(){return Object(u.useContext)(E)}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n(1),a=n.n(r),c=n(2),i=n(13),u=n(0),o=n.n(u),s=n(9),l=n(10),p=Object(u.createContext)({}),f="".concat(l.a.getApiUrl(),"/me"),d=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",_="".concat(d,"/user");function v(e){var t=Object(s.b)(),n=t.isAuthenticated,r=t.requestService,l=Object(u.useState)({}),d=Object(i.a)(l,2),v=d[0],h=d[1];function E(){return(E=Object(c.a)(a.a.mark((function e(){var t,n,c,i,u,o,s,l,p,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get(f);case 2:n=e.sent,c=n.data,i=c.id,u=c.email,o=c.display_name,s=c.external_urls.spotify,l=c.images,p=c.uri,d=null===(t=l[0])||void 0===t?void 0:t.url,h({id:i,email:u,name:o,link:s,avatarSrc:d,uri:p}),T({avatarSrc:d,spotifyUri:p,name:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(c.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(f,"/player/devices"),e.next=3,r.get(t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c.devices);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.post({url:_,data:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.useEffect)((function(){n?function(){E.apply(this,arguments)}():h({})}),[n]),o.a.createElement(p.Provider,Object.assign({value:{getAvailableDevices:function(){return O.apply(this,arguments)},profile:v}},e))}var h=function(){return Object(u.useContext)(p)}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(4),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"toCustom",value:function(e,t){var n;return{alt:e,src:null===(n=t[0])||void 0===n?void 0:n.url}}}]),e}(),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"toMusicTrack",value:function(e){var t=e.name,n=e.album,r=e.uri;return{id:r,image:c.toCustom(t,n.images),name:t,album:{id:n.uri,name:n.name,image:c.toCustom(n.name,n.images)},uri:r}}},{key:"toMusic",value:function(e){var t=e.id,n=e.name,r=e.album,a=e.uri;return{id:t,image:c.toCustom(n,r.images),name:n,album:{id:r.id,name:r.name,image:c.toCustom(r.name,r.images)},uri:a}}},{key:"toAlbum",value:function(e){var t=e.id,n=e.name,r=e.images;return{id:t,name:n,image:c.toCustom(n,r)}}}]),e}()},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r),c=n(2),i=n(3),u=n(4),o=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"debounce",value:function(e,t){var n;return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];null!=n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(void 0,a)}),t)}}},{key:"wait",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e()}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return b}));var r=n(1),a=n.n(r),c=n(2),i=n(13),u=n(0),o=n.n(u),s=n(9),l=n(10),p=n(20),f=n(26),d=n(3),_=n(4),v=n(15),h=[],E=function(){function e(){Object(d.a)(this,e)}return Object(_.a)(e,null,[{key:"stateToEvent",value:function(e){var t=(null===e||void 0===e?void 0:e.track_window).current_track,n=h[h.length-1],r=t.uri,a=v.a.PLAY_MUSIC;if(null==r)throw new Error("Invalid current track");return e.paused?a=v.a.PAUSE_MUSIC:null!=n&&(n!==r?a=v.a.CHANGE_MUSIC:0===(null===e||void 0===e?void 0:e.position)&&(a=v.a.RESTART_MUSIC)),n!==r&&h.push(r),{type:a,value:r}}}]),e}(),O=Object(u.createContext)({}),T="".concat(l.a.getApiUrl(),"/me"),m=f.a.debounce((function(e,t){var n=E.stateToEvent(e);t(n.type,n.value)}),1e3);function P(e){var t=Object(s.b)(),n=t.accessToken,r=t.isAuthenticated,d=t.requestService,_=Object(u.useState)(null),h=Object(i.a)(_,2),E=h[0],P=h[1],b=Object(u.useState)(null),A=Object(i.a)(b,2),S=A[0],C=A[1],y=Object(u.useState)(null),I=Object(i.a)(y,2),R=I[0],g=I[1],w=Object(u.useState)(),j=Object(i.a)(w,2),k=j[0],x=j[1],U=Object(v.c)().save;function L(){return D.apply(this,arguments)}function D(){return(D=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.createPlayer(n);case 2:t=e.sent,P(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return e.next=4,K();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("".concat(T,"/player"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Y.apply(this,arguments)}function Y(){return(Y=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:n=e.sent,C((null!=(null===n||void 0===n?void 0:n.device)&&(null===E||void 0===E?void 0:E.device_id))===(null===n||void 0===n||null===(t=n.device)||void 0===t?void 0:t.id));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=E){e.next=2;break}throw new Error("You have to login first!");case 2:return e.next=4,E.original.nextTrack();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=E){e.next=2;break}throw new Error("You have to login first!");case 2:return e.next=4,E.original.previousTrack();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=E){e.next=2;break}throw new Error("You have to login first!");case 2:return e.next=4,E.original.togglePlay();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(T,"/player"),e.next=3,d.put({url:t,data:{device_ids:[null===E||void 0===E?void 0:E.device_id]}});case 3:return e.next=5,f.a.wait(500);case 5:return e.next=7,K();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.useEffect)((function(){r&&function(){N.apply(this,arguments)}()}),[n,r]),Object(u.useEffect)((function(){g(null!=E),null!=E&&E.original.addListener("player_state_changed",(function(e){var t=e.position,n=e.duration,r=e.paused,a=e.track_window.current_track;m(e,U),x({currentTrack:p.a.toMusicTrack(a),duration:n,position:t,paused:r})}))}),[E]),o.a.createElement(O.Provider,Object.assign({value:{isPlayerReady:R,isPluginPlayerActive:S,nextTrack:function(){return F.apply(this,arguments)},playingMusicInfo:k,previousTrack:function(){return W.apply(this,arguments)},togglePlay:function(){return z.apply(this,arguments)},transferUserPlaybackToPlugin:function(){return G.apply(this,arguments)}}},e))}var b=function(){return Object(u.useContext)(O)}},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(60);var r=n(0),a=n.n(r);function c(){return a.a.createElement("div",{className:"loader-component"},"Loading...")}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return E}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(3),s=n(4),l=n(20),p=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"toArtist",value:function(e){var t,n=e.uri,r=e.name;return{id:n,name:r,image:{alt:r,src:null===(t=e.images[0])||void 0===t?void 0:t.url}}}},{key:"toMusic",value:function(e){return l.a.toMusic(e)}}]),e}(),f=n(10),d=n(9),_=Object(i.createContext)({}),v="".concat(f.a.getApiUrl(),"/search");function h(e){var t=Object(d.b)().requestService;function n(e,t){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(n,r){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get({url:v,params:{q:n,type:r}});case 2:return c=e.sent,i=c.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,"artist");case 2:if(r=e.sent,c=r.artists){e.next=6;break}throw new Error("Invalid response");case 6:return e.abrupt("return",c.items.map(p.toArtist));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,"track");case 2:if(r=e.sent,c=r.tracks){e.next=6;break}throw new Error("Invalid response");case 6:return e.abrupt("return",c.items.map(p.toMusic));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{searchArtists:function(e){return i.apply(this,arguments)},searchMusic:function(e){return o.apply(this,arguments)}}},e))}var E=function(){return Object(i.useContext)(_)}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(6),s=n(7),l="true"===Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_USE_API_TO_LOAD_ACTIVITY,p=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",f="".concat(p,"/activities"),d="https://ericoloewe.github.io/computer-science-tcc",_=Object(i.createContext)({});function v(e){function t(){return(t=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l?i(t):n(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("".concat(d,"/activities.json"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.filter((function(e){return!t||e.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{id:s.a.toKebabCase(e),name:e}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get({url:f,params:{text:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{search:function(e){return t.apply(this,arguments)}}},e))}var h=function(){return Object(i.useContext)(_)}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(6),s=n(7),l="true"===Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_USE_API_TO_LOAD_FEELINGS,p=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",f="".concat(p,"/feelings"),d="https://ericoloewe.github.io/computer-science-tcc",_=Object(i.createContext)({});function v(e){function t(){return(t=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l?i(t):n(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("".concat(d,"/feelings.json"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.filter((function(e){return!t||e.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{id:s.a.toKebabCase(e),name:e}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get({url:f,params:{text:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{search:function(e){return t.apply(this,arguments)}}},e))}var h=function(){return Object(i.useContext)(_)}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(6),s=n(7),l=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",p="".concat(l,"/locations"),f="true"===Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_USE_API_TO_LOAD_LOCATION,d="https://ericoloewe.github.io/computer-science-tcc",_=Object(i.createContext)({});function v(e){function t(){return(t=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f?i(t):n(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("".concat(d,"/locations.json"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.filter((function(e){return!t||e.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{id:s.a.toKebabCase(e),name:e}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get({url:p,params:{text:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{search:function(e){return t.apply(this,arguments)}}},e))}var h=function(){return Object(i.useContext)(_)}},54:function(e,t,n){e.exports=n(84)},59:function(e,t,n){},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O}));var r=n(18),a=n(52),c=n(51),i=n(53),u=n(22),o=n(1),s=n.n(o),l=n(2),p=n(3),f=n(4),d=n(23),_=n.n(d),v=n(7),h=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"get",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseRequest(t),e.next=3,_()(n);case 3:return r=e.sent,e.abrupt("return",this.mapAxiosToResponse(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseRequest(t),e.next=3,_()(Object(u.a)({},n,{method:"post"}));case 3:return r=e.sent,e.abrupt("return",this.mapAxiosToResponse(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseRequest(t),e.next=3,_()(Object(u.a)({},n,{method:"put"}));case 3:return r=e.sent,e.abrupt("return",this.mapAxiosToResponse(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseRequest",value:function(e){var t=e;return v.a.isString(e)&&(t={url:e}),t}},{key:"mapAxiosToResponse",value:function(e){return{data:e.data,headers:e.headers,status:e.status}}}]),e}(),E=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).accessToken=void 0,r.accessToken=e,r}return Object(f.a)(n,[{key:"parseRequest",value:function(e){var t=Object(a.a)(Object(r.a)(n.prototype),"parseRequest",this).call(this,e);if(null==this.accessToken)throw new Error("No access token, you must login!");return t.headers={Authorization:"Bearer ".concat(this.accessToken)},t}}]),n}(h),O=new h},60:function(e,t,n){},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(3),a=n(4),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"isEmpty",value:function(e){return null==e||"string"===typeof e&&0===e.trim().length}},{key:"isString",value:function(e){return"string"===typeof e}},{key:"sliceIfNeed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e.length>t?"".concat(e.slice(0,t),"..."):e}},{key:"toKebabCase",value:function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^-\w ]/g,"").replace(/-+/g," ").trim().replace(/ +/g,"-").toLowerCase()}},{key:"toString",value:function(e){if(!e)throw new Error("Invalid str");return e.toString()}},{key:"toStringOrDefault",value:function(e,t){return e?e.toString():t}}]),e}()},84:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(31),i=n.n(c);n(59),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(24),o=n(16),s=n(34),l=n(30),p=n(9);function f(e){var t=e.children,n=Object(l.a)(e,["children"]),r=Object(p.b)().isAuthenticated;return a.a.createElement(o.b,Object.assign({},n,{render:function(e){var n=e.location;return r?t:a.a.createElement(o.a,{to:{pathname:"/welcome",state:{from:n}}})}}))}function d(e){var t=e.children,n=Object(l.a)(e,["children"]),r=Object(p.b)().isAuthenticated;return a.a.createElement(o.b,Object.assign({},n,{render:function(e){var n=e.location;return r?a.a.createElement(o.a,{to:{pathname:"/",state:{from:n}}}):t}}))}var _=n(47),v=n(15),h=n(48),E=n(49),O=n(33),T=n(1),m=n.n(T),P=n(2),b=n(10),A=n(3),S=n(4),C=n(7),y=n(20),I=function(){function e(){Object(A.a)(this,e)}return Object(S.a)(e,null,[{key:"toPlaylist",value:function(e){var t,n=e.id,r=e.name,a=e.description,c=e.images,i=e.tracks;return{id:n,title:r,description:C.a.sliceIfNeed(a),image:{alt:r,src:null===(t=c[0])||void 0===t?void 0:t.url},musics:i.items.map((function(e){return y.a.toMusic(e.track)}))}}},{key:"toBasicPlaylist",value:function(e){var t,n=e.id,r=e.name,a=e.images,c=e.description;return{id:n,title:r,description:C.a.sliceIfNeed(c),image:{alt:r,src:null===(t=a[0])||void 0===t?void 0:t.url}}}}]),e}(),R=n(19),g=Object(r.createContext)({}),w="".concat(b.a.getApiUrl(),"/me/playlists"),j="".concat(b.a.getApiUrl(),"/playlists");function k(e){var t=Object(R.b)().profile.id,n=Object(p.b)().requestService;function r(){return(r=Object(P.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post({url:"".concat(j,"/").concat(t,"/tracks"),data:{uris:r}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(P.a)(m.a.mark((function e(){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post({url:"".concat(b.a.getApiUrl(),"/users/").concat(t,"/playlists"),data:{name:"Nova playlist"}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(P.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get({url:w});case 2:return t=e.sent,r=t.data,e.abrupt("return",r.items.map(I.toBasicPlaylist));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(P.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get({url:"".concat(j,"/").concat(t)});case 2:return r=e.sent,a=r.data,e.abrupt("return",I.toPlaylist(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(P.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.put({url:"".concat(j,"/").concat(t),data:{name:r}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement(g.Provider,Object.assign({value:{addMusics:function(e,t){return r.apply(this,arguments)},create:function(){return c.apply(this,arguments)},load:function(e){return u.apply(this,arguments)},loadAll:function(){return i.apply(this,arguments)},rename:function(e,t){return o.apply(this,arguments)}}},e))}var x=n(35);function U(e){var t=e.children;return a.a.createElement(p.a,null,a.a.createElement(R.a,null,a.a.createElement(v.b,null,a.a.createElement(k,null,a.a.createElement(O.a,null,a.a.createElement(h.a,null,a.a.createElement(_.a,null,a.a.createElement(E.a,null,a.a.createElement(x.a,null,t)))))))))}var L=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(13)]).then(n.bind(null,231))})),D=a.a.lazy((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,221))})),N=a.a.lazy((function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,222))})),H=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,223))})),M=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,224))})),K=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(11)]).then(n.bind(null,225))})),Y=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,235))})),F=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8)]).then(n.bind(null,226))})),W=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,227))})),z=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,236))})),G=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(12)]).then(n.bind(null,228))}));i.a.render(a.a.createElement(r.StrictMode,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(s.a,null)},a.a.createElement(U,null,a.a.createElement(u.a,null,a.a.createElement(o.d,null,a.a.createElement(f,{path:"/new-context/activity"},a.a.createElement(W,null)),a.a.createElement(f,{path:"/new-context/feeling"},a.a.createElement(F,null)),a.a.createElement(f,{path:"/new-context/music-search"},a.a.createElement(G,null)),a.a.createElement(f,{path:"/new-context/gender"},a.a.createElement(Y,null)),a.a.createElement(f,{path:"/new-context/artists"},a.a.createElement(K,null)),a.a.createElement(f,{path:"/new-context/location"},a.a.createElement(z,null)),a.a.createElement(d,{path:"/login"},a.a.createElement(N,null)),a.a.createElement(d,{path:"/login-redirect-spotify"},a.a.createElement(H,null)),a.a.createElement(d,{exact:!0,path:"/:access_token(access_token=.*)"},a.a.createElement(H,null)),a.a.createElement(f,{path:"/logout"},a.a.createElement(M,null)),a.a.createElement(d,{path:"/welcome"},a.a.createElement(D,null)),a.a.createElement(f,{path:"/"},a.a.createElement(L,null))))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return _}));var r=n(13),a=n(0),c=n.n(a),i=n(3),u=n(4),o=new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"delete",value:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"get",value:function(e){var t=document.cookie,n="";if(t.includes(e)){var r=t.indexOf(e);n=t.substring(r).split(";",1)[0].split("=")[1]}return decodeURIComponent(n)}},{key:"save",value:function(e,t,n){var r="";if(n){var a=new Date;a.setTime(a.getTime()+1e3*n),r="; expires="+a.toUTCString()}document.cookie="".concat(e,"=").concat(t).concat(r,"; path=/")}}]),e}()),s=n(10),l=n(7),p=n(6),f=Object(a.createContext)({isAuthenticated:!1});function d(e){var t=Object(a.useState)(o.get("SpotifyToken")),n=Object(r.a)(t,2),i=n[0],u=n[1],d=Object(a.useState)(new p.a(i)),_=Object(r.a)(d,2),v=_[0],h=_[1],E=Object(a.useState)(!1),O=Object(r.a)(E,2),T=O[0],m=O[1];return Object(a.useEffect)((function(){m(!l.a.isEmpty(i)),h(new p.a(i))}),[i]),c.a.createElement(f.Provider,Object.assign({value:{logout:function(){u(null),o.delete("SpotifyToken")},saveToken:function(e){var t=s.a.getTokenAndInfoFromRedirectUrl(e),n=t.accessToken,r=t.expiresInSeconds;o.save("SpotifyToken",n,r),u(n)},isAuthenticated:T,accessToken:i,requestService:v}},e))}var _=function(){return c.a.useContext(f)}}},[[54,4,5]]]);
//# sourceMappingURL=main.835406df.chunk.js.map