(this["webpackJsonpplugin-app"]=this["webpackJsonpplugin-app"]||[]).push([[3],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=n(5),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"createSpotifyAuthUrl",value:function(){var t=new URL("https://accounts.spotify.com/authorize");return t.searchParams.set("client_id","62cd1002f7cd431e92969df2d619de90"),t.searchParams.set("response_type","token"),t.searchParams.set("redirect_uri",e.getSpotifyRedirectUrl()),t.searchParams.set("scope",this.SCOPES.join(" ")),t.toString()}},{key:"createPlayer",value:function(e){return new Promise((function(t,n){window.onSpotifyWebPlaybackSDKReady=function(){var r=new Spotify.Player({name:"Spotify plugin",getOAuthToken:function(t){t(e)}});r.addListener("initialization_error",(function(e){var t=e.message;return n(t)})),r.addListener("authentication_error",(function(e){var t=e.message;return n(t)})),r.addListener("account_error",(function(e){var t=e.message;return n(t)})),r.addListener("playback_error",(function(e){var t=e.message;return n(t)})),r.addListener("not_ready",(function(e){var t=e.device_id;return n("Device ID has gone offline ".concat(t))})),r.addListener("ready",(function(e){var n=e.device_id;return t({device_id:n,original:r})})),r.connect()}}))}},{key:"getApiUrl",value:function(){return"https://api.spotify.com/v1"}},{key:"getTokenAndInfoFromRedirectUrl",value:function(e){var t=new URL(e);t.search=t.hash.slice(2,t.hash.length);var n=t.searchParams.get("access_token"),r=Number(t.searchParams.get("expires_in")),a=t.searchParams.get("token_type");if(!n||!r||!a)throw new Error("Invalid redirect parameter");return{accessToken:n,expiresInSeconds:r,tokenType:a}}},{key:"getSpotifyRedirectUrl",value:function(){var e=new URL("https://ericoloewe.github.io/computer-science-tcc");return e.hash="/login-redirect-spotify",e.toString()}}]),e}();c.SCOPES=["playlist-modify-private","playlist-modify-public","playlist-read-private","streaming","user-library-read","user-read-email","user-read-playback-state","user-read-private","user-read-recently-played","user-top-read"]},102:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(41),i=n.n(c);n(77),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(35),o=n(18),s=n(46),l=n(34),p=n(6),f=n(20);function d(e){var t=e.children,n=Object(l.a)(e,["children"]),r=Object(p.b)().isAuthenticated;return a.a.createElement(o.b,Object.assign({},n,{render:function(e){var n=e.location;return r&&"true"!==f.a.get(f.a.CONTEXT_COOKIE_NAME)?a.a.createElement(o.a,{to:{pathname:"/new-context",state:{from:n}}}):t}}))}function _(e){var t=e.children,n=Object(l.a)(e,["children"]),r=Object(p.b)().isAuthenticated;return a.a.createElement(o.b,Object.assign({},n,{render:function(e){var n=e.location;return r?t:a.a.createElement(o.a,{to:{pathname:"/welcome",state:{from:n}}})}}))}function v(e){var t=e.children,n=Object(l.a)(e,["children"]),r=Object(p.b)().isAuthenticated;return a.a.createElement(o.b,Object.assign({},n,{render:function(e){var n=e.location;return r?a.a.createElement(o.a,{to:{pathname:"/",state:{from:n}}}):t}}))}var E=n(60),m=n(15),h=n(61),O=n(62),T=n(43),b=n(1),P=n.n(b),A=n(2),S=n(10),y=n(4),C=n(5),I=n(8),g=n(23),w=function(){function e(){Object(y.a)(this,e)}return Object(C.a)(e,null,[{key:"toPlaylist",value:function(e){var t,n=e.id,r=e.name,a=e.description,c=e.images,i=e.tracks;return{id:n,title:r,description:I.a.sliceIfNeed(a),image:{alt:r,src:null===(t=c[0])||void 0===t?void 0:t.url},musics:i.items.map((function(e){return g.a.toMusic(e.track)}))}}},{key:"toBasicPlaylist",value:function(e){var t,n=e.id,r=e.name,a=e.images,c=e.description;return{id:n,title:r,description:I.a.sliceIfNeed(c),image:{alt:r,src:null===(t=a[0])||void 0===t?void 0:t.url}}}}]),e}(),R=n(22),j=Object(r.createContext)({}),k="".concat(S.a.getApiUrl(),"/me/playlists"),L="".concat(S.a.getApiUrl(),"/playlists");function x(e){var t=Object(R.b)().profile.id,n=Object(p.b)().requestService;function r(){return(r=Object(A.a)(P.a.mark((function e(t,r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post({url:"".concat(L,"/").concat(t,"/tracks"),data:{uris:r}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(A.a)(P.a.mark((function e(){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post({url:"".concat(S.a.getApiUrl(),"/users/").concat(t,"/playlists"),data:{name:"Nova playlist"}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(A.a)(P.a.mark((function e(){var t,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get({url:k});case 2:return t=e.sent,r=t.data,e.abrupt("return",r.items.map(w.toBasicPlaylist));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(A.a)(P.a.mark((function e(t){var r,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get({url:"".concat(L,"/").concat(t)});case 2:return r=e.sent,a=r.data,e.abrupt("return",w.toPlaylist(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(A.a)(P.a.mark((function e(t,r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.put({url:"".concat(L,"/").concat(t),data:{name:r}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement(j.Provider,Object.assign({value:{addMusics:function(e,t){return r.apply(this,arguments)},create:function(){return c.apply(this,arguments)},load:function(e){return u.apply(this,arguments)},loadAll:function(){return i.apply(this,arguments)},rename:function(e,t){return o.apply(this,arguments)}}},e))}var U=n(47);function N(e){var t=e.children;return a.a.createElement(p.a,null,a.a.createElement(R.a,null,a.a.createElement(m.b,null,a.a.createElement(x,null,a.a.createElement(T.a,null,a.a.createElement(h.a,null,a.a.createElement(E.a,null,a.a.createElement(O.a,null,a.a.createElement(U.a,null,t)))))))))}var H=n(105),D=n(111),M=n(33),K=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(13)]).then(n.bind(null,241))})),Y=a.a.lazy((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,231))})),F=a.a.lazy((function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,232))})),W=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,233))})),V=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,234))})),G=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(11)]).then(n.bind(null,235))})),z=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,245))})),B=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,236))})),q=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8)]).then(n.bind(null,237))})),Z=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,246))})),X=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(12)]).then(n.bind(null,238))})),J=Object(H.a)({palette:{primary:{main:"#282828"},secondary:M.a}});i.a.render(a.a.createElement(r.StrictMode,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(s.a,null)},a.a.createElement(N,null,a.a.createElement(D.a,{theme:J},a.a.createElement(u.a,null,a.a.createElement(o.d,null,a.a.createElement(v,{path:"/login"},a.a.createElement(F,null)),a.a.createElement(v,{path:"/login-redirect-spotify"},a.a.createElement(W,null)),a.a.createElement(v,{exact:!0,path:"/:access_token(access_token=.*)"},a.a.createElement(W,null)),a.a.createElement(v,{path:"/welcome"},a.a.createElement(Y,null)),a.a.createElement(_,{path:"/new-context",exact:!0},a.a.createElement(B,{key:"feeling",type:"feeling"})),a.a.createElement(_,{path:"/new-context/want-to-fell-like"},a.a.createElement(B,{key:"want-to-fell-like",type:"want-to-fell-like"})),a.a.createElement(_,{path:"/new-context/activity"},a.a.createElement(q,null)),a.a.createElement(_,{path:"/new-context/location"},a.a.createElement(Z,null)),a.a.createElement(d,null,a.a.createElement(_,{path:"/music-search"},a.a.createElement(X,null)),a.a.createElement(_,{path:"/gender"},a.a.createElement(z,null)),a.a.createElement(_,{path:"/artists"},a.a.createElement(G,null)),a.a.createElement(_,{path:"/logout"},a.a.createElement(V,null)),a.a.createElement(_,{path:"/",exact:!0},a.a.createElement(K,null))))))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return T}));var r,a=n(1),c=n.n(a),i=n(2),u=n(0),o=n.n(u),s=n(24),l=n(4),p=n(5),f=new(function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,[{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;try{(n=!!dataLayer.push(Object(s.a)({event:e},t)))&&console.log("There is no gtm tags for the event: ",e)}catch(r){console.log("There was a problem to send the gtm event ",r)}return n}}]),e}()),d=n(7),_=n(22);!function(e){e.CHANGE_MUSIC_TIME="CHANGE_MUSIC_TIME",e.CHANGE_TO_NEXT_MUSIC="CHANGE_TO_NEXT_MUSIC",e.CHANGE_TO_PREVIOUS_MUSIC="CHANGE_TO_PREVIOUS_MUSIC",e.CHOOSE_ACTIVITY="CHOOSE_ACTIVITY",e.CHOOSE_FEELING="CHOOSE_FEELING",e.CHOOSE_FEELING_TO_BE_LIKE="CHOOSE_FEELING_TO_BE_LIKE",e.CHOOSE_LOCATION="CHOOSE_LOCATION",e.HATED_MUSIC="HATED_MUSIC",e.HIDE_DETAILS="HIDE_DETAILS",e.LIKED_ARTIST="LIKED_ARTIST",e.LIKED_GENRE="LIKED_GENRE",e.LIKED_MUSIC="LIKED_MUSIC",e.LOAD_LOCATION="LOAD_LOCATION",e.PAUSE_MUSIC="PAUSE_MUSIC",e.PLAY_MUSIC="PLAY_MUSIC",e.RESTART_MUSIC="RESTART_MUSIC",e.SHOW_DETAILS="SHOW_DETAILS"}(r||(r={}));var v=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",E="".concat(v,"/UserEvents"),m=Object(u.createContext)({}),h=[];function O(e){var t=Object(_.b)().profile.uri;function n(){return(n=Object(i.a)(c.a.mark((function e(n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={type:n,value:r,spotifyUserUri:t},!a(n)){e.next=8;break}0,f.sendEvent("USER_ACTION",i),e.next=8;break;case 6:return e.next=8,d.b.post({url:E,data:i});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){var t=h[h.length-1];return h.push(e),!(e===t&&(e===r.PAUSE_MUSIC||e===r.PLAY_MUSIC))}return o.a.createElement(m.Provider,Object.assign({value:{save:function(e,t){return n.apply(this,arguments)}}},e))}var T=function(){return Object(u.useContext)(m)}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=n(5),c=new(function(){function e(){Object(r.a)(this,e),this.CONTEXT_COOKIE_NAME="FilledTheContext"}return Object(a.a)(e,[{key:"delete",value:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"get",value:function(e){var t=document.cookie,n="";if(t.includes(e)){var r=t.indexOf(e);n=t.substring(r).split(";",1)[0].split("=")[1]}return decodeURIComponent(n)}},{key:"save",value:function(e,t,n){var r="";if(n){var a=new Date;a.setTime(a.getTime()+1e3*n),r="; expires="+a.toUTCString()}document.cookie="".concat(e,"=").concat(t).concat(r,"; path=/")}}]),e}())},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return v}));var r=n(1),a=n.n(r),c=n(2),i=n(13),u=n(0),o=n.n(u),s=n(6),l=n(10),p=Object(u.createContext)({}),f="".concat(l.a.getApiUrl(),"/me"),d=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api";"".concat(d,"/user");function _(e){var t=Object(s.b)(),n=t.isAuthenticated,r=t.requestService,l=Object(u.useState)({}),d=Object(i.a)(l,2),_=d[0],v=d[1];function E(){return(E=Object(c.a)(a.a.mark((function e(){var t,n,c,i,u,o,s,l,p,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get(f);case 2:n=e.sent,c=n.data,i=c.id,u=c.email,o=c.display_name,s=c.external_urls.spotify,l=c.images,p=c.uri,d=null===(t=l[0])||void 0===t?void 0:t.url,v({id:i,email:u,name:o,link:s,avatarSrc:d,uri:p}),h({avatarSrc:d,spotifyUri:p,name:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(f,"/player/devices"),e.next=3,r.get(t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c.devices);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.useEffect)((function(){n?function(){E.apply(this,arguments)}():v({})}),[n]),o.a.createElement(p.Provider,Object.assign({value:{getAvailableDevices:function(){return m.apply(this,arguments)},profile:_}},e))}var v=function(){return Object(u.useContext)(p)}},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n(5),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"toCustom",value:function(e,t){var n;return{alt:e,src:null===(n=t[0])||void 0===n?void 0:n.url}}}]),e}(),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"toMusicTrack",value:function(e){var t=e.name,n=e.album,r=e.uri;return{id:r,image:c.toCustom(t,n.images),name:t,album:{id:n.uri,name:n.name,image:c.toCustom(n.name,n.images)},uri:r}}},{key:"toMusic",value:function(e){var t=e.id,n=e.name,r=e.album,a=e.uri;return{id:t,image:c.toCustom(n,r.images),name:n,album:{id:r.id,name:r.name,image:c.toCustom(r.name,r.images)},uri:a}}},{key:"toAlbum",value:function(e){var t=e.id,n=e.name,r=e.images;return{id:t,name:n,image:c.toCustom(n,r)}}}]),e}()},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r),c=n(2),i=n(4),u=n(5),o=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"debounce",value:function(e,t){var n;return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];null!=n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(void 0,a)}),t)}}},{key:"wait",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e()}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return P}));var r=n(1),a=n.n(r),c=n(2),i=n(13),u=n(0),o=n.n(u),s=n(6),l=n(10),p=n(23),f=n(37),d=n(4),_=n(5),v=n(15),E=[],m=function(){function e(){Object(d.a)(this,e)}return Object(_.a)(e,null,[{key:"stateToEvent",value:function(e){var t=null===e||void 0===e?void 0:e.track_window,n=t.current_track,r=t.next_tracks,a=t.previous_tracks,c=E[E.length-1],i=n.uri,u=v.a.PLAY_MUSIC;if(null==i)throw new Error("Invalid current track");if((null===e||void 0===e?void 0:e.position)<=1e3&&(u=v.a.RESTART_MUSIC),e.paused)u=v.a.PAUSE_MUSIC;else if(null!=c){var o=r.some((function(e){return e.uri===c}));a.some((function(e){return e.uri===c}))?u=v.a.CHANGE_TO_NEXT_MUSIC:o&&(u=v.a.CHANGE_TO_PREVIOUS_MUSIC)}return c!==i&&E.push(i),{type:u,value:i}}}]),e}(),h=Object(u.createContext)({}),O="".concat(l.a.getApiUrl(),"/me"),T=f.a.debounce((function(e,t){var n=m.stateToEvent(e);t(n.type,n.value)}),1e3);function b(e){var t=Object(s.b)(),n=t.accessToken,r=t.isAuthenticated,d=t.requestService,_=Object(u.useState)(null),E=Object(i.a)(_,2),m=E[0],b=E[1],P=Object(u.useState)(null),A=Object(i.a)(P,2),S=A[0],y=A[1],C=Object(u.useState)(null),I=Object(i.a)(C,2),g=I[0],w=I[1],R=Object(u.useState)(),j=Object(i.a)(R,2),k=j[0],L=j[1],x=Object(v.c)().save;function U(){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.createPlayer(n);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.next=4,K();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("".concat(O,"/player"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Y.apply(this,arguments)}function Y(){return(Y=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,y((null!=(null===n||void 0===n?void 0:n.device)&&(null===m||void 0===m?void 0:m.device_id))===(null===n||void 0===n||null===(t=n.device)||void 0===t?void 0:t.id));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=m){e.next=2;break}throw new Error("You have to login first!");case 2:return e.next=4,m.original.nextTrack();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=m){e.next=2;break}throw new Error("You have to login first!");case 2:return e.next=4,m.original.previousTrack();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=m){e.next=2;break}throw new Error("You have to login first!");case 2:return e.next=4,m.original.togglePlay();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(O,"/player"),e.next=3,d.put({url:t,data:{device_ids:[null===m||void 0===m?void 0:m.device_id]}});case 3:return e.next=5,f.a.wait(500);case 5:return e.next=7,K();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.useEffect)((function(){r&&function(){H.apply(this,arguments)}()}),[n,r]),Object(u.useEffect)((function(){w(null!=m),null!=m&&m.original.addListener("player_state_changed",(function(e){var t=e.position,n=e.duration,r=e.paused,a=e.track_window.current_track;T(e,x),L({currentTrack:p.a.toMusicTrack(a),duration:n,position:t,paused:r})}))}),[m]),o.a.createElement(h.Provider,Object.assign({value:{isPlayerReady:g,isPluginPlayerActive:S,nextTrack:function(){return F.apply(this,arguments)},playingMusicInfo:k,previousTrack:function(){return W.apply(this,arguments)},togglePlay:function(){return V.apply(this,arguments)},transferUserPlaybackToPlugin:function(){return G.apply(this,arguments)}}},e))}var P=function(){return Object(u.useContext)(h)}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n(78);var r=n(0),a=n.n(r);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createElement("title",null,"Audio Wave"),o=a.a.createElement("path",{className:"wave-svg-line-1","data-name":"Line 1",d:"M0.91,15L0.78,15A1,1,0,0,0,0,16v6a1,1,0,1,0,2,0s0,0,0,0V16a1,1,0,0,0-1-1H0.91Z"}),s=a.a.createElement("path",{className:"wave-svg-line-2","data-name":"Line 2",d:"M6.91,9L6.78,9A1,1,0,0,0,6,10V28a1,1,0,1,0,2,0s0,0,0,0V10A1,1,0,0,0,7,9H6.91Z"}),l=a.a.createElement("path",{className:"wave-svg-line-3","data-name":"Line 3",d:"M12.91,0L12.78,0A1,1,0,0,0,12,1V37a1,1,0,1,0,2,0s0,0,0,0V1a1,1,0,0,0-1-1H12.91Z"}),p=a.a.createElement("path",{className:"wave-svg-line-4","data-name":"Line 4",d:"M18.91,10l-0.12,0A1,1,0,0,0,18,11V27a1,1,0,1,0,2,0s0,0,0,0V11a1,1,0,0,0-1-1H18.91Z"}),f=a.a.createElement("path",{className:"wave-svg-line-5","data-name":"Line 5",d:"M24.91,15l-0.12,0A1,1,0,0,0,24,16v6a1,1,0,0,0,2,0s0,0,0,0V16a1,1,0,0,0-1-1H24.91Z"}),d=a.a.createElement("path",{className:"wave-svg-line-6","data-name":"Line 6",d:"M30.91,10l-0.12,0A1,1,0,0,0,30,11V27a1,1,0,1,0,2,0s0,0,0,0V11a1,1,0,0,0-1-1H30.91Z"}),_=a.a.createElement("path",{className:"wave-svg-line-7","data-name":"Line 7",d:"M36.91,0L36.78,0A1,1,0,0,0,36,1V37a1,1,0,1,0,2,0s0,0,0,0V1a1,1,0,0,0-1-1H36.91Z"}),v=a.a.createElement("path",{className:"wave-svg-line-8","data-name":"Line 8",d:"M42.91,9L42.78,9A1,1,0,0,0,42,10V28a1,1,0,1,0,2,0s0,0,0,0V10a1,1,0,0,0-1-1H42.91Z"}),E=a.a.createElement("path",{className:"wave-svg-line-9","data-name":"Line 9",d:"M48.91,15l-0.12,0A1,1,0,0,0,48,16v6a1,1,0,1,0,2,0s0,0,0,0V16a1,1,0,0,0-1-1H48.91Z"}),m=function(e){var t=e.svgRef,n=e.title,r=i(e,["svgRef","title"]);return a.a.createElement("svg",c({className:"wave-svg","data-name":"Layer 1",viewBox:"0 0 50 38.05",ref:t},r),void 0===n?u:n?a.a.createElement("title",null,n):null,o,s,l,p,f,d,_,v,E)},h=a.a.forwardRef((function(e,t){return a.a.createElement(m,c({svgRef:t},e))}));n.p;function O(){return a.a.createElement("div",{className:"loader-component"},a.a.createElement(h,null))}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return m}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(4),s=n(5),l=n(23),p=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"toArtist",value:function(e){var t,n=e.uri,r=e.name;return{id:n,name:r,image:{alt:r,src:null===(t=e.images[0])||void 0===t?void 0:t.url}}}},{key:"toMusic",value:function(e){return l.a.toMusic(e)}}]),e}(),f=n(10),d=n(6),_=Object(i.createContext)({}),v="".concat(f.a.getApiUrl(),"/search");function E(e){var t=Object(d.b)().requestService;function n(e,t){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(n,r){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get({url:v,params:{q:n,type:r}});case 2:return c=e.sent,i=c.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,"artist");case 2:if(r=e.sent,c=r.artists){e.next=6;break}throw new Error("Invalid response");case 6:return e.abrupt("return",c.items.map(p.toArtist));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,"track");case 2:if(r=e.sent,c=r.tracks){e.next=6;break}throw new Error("Invalid response");case 6:return e.abrupt("return",c.items.map(p.toMusic));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{searchArtists:function(e){return i.apply(this,arguments)},searchMusic:function(e){return o.apply(this,arguments)}}},e))}var m=function(){return Object(i.useContext)(_)}},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(13),a=n(0),c=n.n(a),i=n(20),u=n(10),o=n(8),s=n(7),l=Object(a.createContext)({isAuthenticated:!1});function p(e){var t=Object(a.useState)(i.a.get("SpotifyToken")),n=Object(r.a)(t,2),p=n[0],f=n[1],d=Object(a.useState)(new s.a(p)),_=Object(r.a)(d,2),v=_[0],E=_[1],m=Object(a.useState)(!1),h=Object(r.a)(m,2),O=h[0],T=h[1];return Object(a.useEffect)((function(){T(!o.a.isEmpty(p)),E(new s.a(p))}),[p]),c.a.createElement(l.Provider,Object.assign({value:{logout:function(){f(null),i.a.delete("SpotifyToken")},saveToken:function(e){var t=u.a.getTokenAndInfoFromRedirectUrl(e),n=t.accessToken,r=t.expiresInSeconds;i.a.save("SpotifyToken",n,r),f(n)},isAuthenticated:O,accessToken:p,requestService:v}},e))}var f=function(){return c.a.useContext(l)}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(7),s=n(8),l="true"===Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_USE_API_TO_LOAD_ACTIVITY,p=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",f="".concat(p,"/activities"),d="https://ericoloewe.github.io/computer-science-tcc",_=Object(i.createContext)({});function v(e){function t(){return(t=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l?i(t):n(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("".concat(d,"/activities.json"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.filter((function(e){return!t||e.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{id:s.a.toKebabCase(e),name:e}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get({url:f,params:{text:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{search:function(e){return t.apply(this,arguments)}}},e))}var E=function(){return Object(i.useContext)(_)}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(7),s=n(8),l="true"===Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_USE_API_TO_LOAD_FEELINGS,p=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",f="".concat(p,"/feelings"),d="https://ericoloewe.github.io/computer-science-tcc",_=Object(i.createContext)({});function v(e){function t(){return(t=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l?i(t):n(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("".concat(d,"/feelings.json"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.filter((function(e){return!t||e.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{id:s.a.toKebabCase(e),name:e}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get({url:f,params:{text:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{search:function(e){return t.apply(this,arguments)}}},e))}var E=function(){return Object(i.useContext)(_)}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(1),a=n.n(r),c=n(2),i=n(0),u=n.n(i),o=n(7),s=n(8),l=Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_API_HOST||"https://localhost:44301/api",p="".concat(l,"/locations"),f="true"===Object({NODE_ENV:"production",PUBLIC_URL:"/computer-science-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_COOKIE_NAME:"SpotifyToken",REACT_APP_HOST_URL:"https://ericoloewe.github.io/computer-science-tcc",REACT_APP_SPOTIFY_API_URL:"https://api.spotify.com/v1",REACT_APP_SPOTIFY_AUTH_URL:"https://accounts.spotify.com/authorize",REACT_APP_SPOTIFY_CLIENT_ID:"62cd1002f7cd431e92969df2d619de90",REACT_APP_SPOTIFY_CLIENT_SECRET:"2ba7386c1c7a447fb961f4de8d091009",REACT_APP_USE_GTM:"true"}).REACT_APP_USE_API_TO_LOAD_LOCATION,d="https://ericoloewe.github.io/computer-science-tcc",_=Object(i.createContext)({});function v(e){function t(){return(t=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f?i(t):n(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e){return r.apply(this,arguments)}function r(){return(r=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get("".concat(d,"/locations.json"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.filter((function(e){return!t||e.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{id:s.a.toKebabCase(e),name:e}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.get({url:p,params:{text:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.Provider,Object.assign({value:{search:function(e){return t.apply(this,arguments)}}},e))}var E=function(){return Object(i.useContext)(_)}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var r=n(21),a=n(70),c=n(69),i=n(71),u=n(24),o=n(1),s=n.n(o),l=n(2),p=n(4),f=n(5),d=n(32),_=n.n(d),v=n(8),E=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"get",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseRequest(t),e.next=3,_()(n);case 3:return r=e.sent,e.abrupt("return",this.mapAxiosToResponse(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseRequest(t),e.next=3,_()(Object(u.a)({},n,{method:"post"}));case 3:return r=e.sent,e.abrupt("return",this.mapAxiosToResponse(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseRequest(t),e.next=3,_()(Object(u.a)({},n,{method:"put"}));case 3:return r=e.sent,e.abrupt("return",this.mapAxiosToResponse(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseRequest",value:function(e){var t=e;return v.a.isString(e)&&(t={url:e}),t}},{key:"mapAxiosToResponse",value:function(e){return{data:e.data,headers:e.headers,status:e.status}}}]),e}(),m=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).accessToken=void 0,r.accessToken=e,r}return Object(f.a)(n,[{key:"parseRequest",value:function(e){var t=Object(a.a)(Object(r.a)(n.prototype),"parseRequest",this).call(this,e);if(null==this.accessToken)throw new Error("No access token, you must login!");return t.headers={Authorization:"Bearer ".concat(this.accessToken)},t}}]),n}(E),h=new E},72:function(e,t,n){e.exports=n(102)},77:function(e,t,n){},78:function(e,t,n){},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=n(5),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"isEmpty",value:function(e){return null==e||"string"===typeof e&&0===e.trim().length}},{key:"isString",value:function(e){return"string"===typeof e}},{key:"sliceIfNeed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e.length>t?"".concat(e.slice(0,t),"..."):e}},{key:"toKebabCase",value:function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^-\w ]/g,"").replace(/-+/g," ").trim().replace(/ +/g,"-").toLowerCase()}},{key:"toString",value:function(e){if(!e)throw new Error("Invalid str");return e.toString()}},{key:"toStringOrDefault",value:function(e,t){return e?e.toString():t}}]),e}()}},[[72,4,5]]]);
//# sourceMappingURL=main.2764c133.chunk.js.map